{"ast":null,"code":"import{useEffect,useState}from\"react\";import{supabase}from\"../supabaseClient\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserManagementPage(){const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[currentUserId,setCurrentUserId]=useState(null);const[roleFilter,setRoleFilter]=useState(\"all\");const navigate=useNavigate();const fetchData=async()=>{const{data:{user}}=await supabase.auth.getUser();if(!user)return navigate(\"/\");setCurrentUserId(user.id);const{data:roleData,error:roleError}=await supabase.from(\"users\").select(\"role\").eq(\"id\",user.id).single();if(roleError||(roleData===null||roleData===void 0?void 0:roleData.role)!==\"superadmin\")return navigate(\"/\");const{data:allUsers,error:fetchError}=await supabase.from(\"users\").select(\"id, email, role, created_at\").order(\"created_at\",{ascending:false});if(!fetchError){setUsers(allUsers||[]);}else{console.error(\"Failed to fetch users:\",fetchError.message);setUsers([]);}setLoading(false);};useEffect(()=>{fetchData();const subscription=supabase.channel('users-changes').on('postgres_changes',{event:'*',schema:'public',table:'users'},()=>{fetchData();}).subscribe();return()=>{supabase.removeChannel(subscription);};},[navigate]);const syncUsers=async()=>{try{const response=await fetch(\"https://tccglukvhjvrrjkjshet.supabase.co/auth/v1/users\",{headers:{Authorization:\"Bearer \".concat(process.env.REACT_APP_SUPABASE_SERVICE_KEY),apikey:process.env.REACT_APP_SUPABASE_SERVICE_KEY}});if(!response.ok){console.error(\"Failed to fetch auth.users:\",await response.text());return;}const result=await response.json();const authUsers=(result===null||result===void 0?void 0:result.users)||result;const{data:existingUsers}=await supabase.from(\"users\").select(\"id\");const idsInUsersTable=new Set((existingUsers||[]).map(u=>u.id));const missingUsers=authUsers.filter(u=>!idsInUsersTable.has(u.id));if(missingUsers.length>0){await supabase.from(\"users\").insert(missingUsers.map(u=>({id:u.id,email:u.email,role:\"user\"})));}fetchData();}catch(error){console.error(\"Sync error:\",error.message);}};const promoteToAdmin=async id=>{const{error}=await supabase.from(\"users\").update({role:\"admin\"}).eq(\"id\",id);if(error)console.error(error);};const demoteToUser=async id=>{const{error}=await supabase.from(\"users\").update({role:\"user\"}).eq(\"id\",id);if(error)console.error(error);};const filteredUsers=users.filter(user=>{if(roleFilter===\"all\")return true;return user.role===roleFilter;});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-[#0f172a] text-white\",children:\"Loading users...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-[#0f172a] text-white p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto bg-gray-900 p-6 rounded-xl shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"User Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:syncUsers,className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow\",children:\"Sync Now\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mb-4\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"bg-gray-800 border border-gray-600 p-2 rounded\",value:roleFilter,onChange:e=>setRoleFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Roles\"}),/*#__PURE__*/_jsx(\"option\",{value:\"superadmin\",children:\"Superadmin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full table-auto border border-gray-700 text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-purple-800 text-white\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left\",children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[filteredUsers.map(user=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t border-gray-700 hover:bg-gray-800\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:user.email}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 capitalize\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded font-semibold text-xs \".concat(user.role===\"superadmin\"?\"bg-red-600\":user.role===\"admin\"?\"bg-green-600\":\"bg-gray-600\"),children:user.role})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:user.created_at?new Date(user.created_at).toLocaleDateString():\"—\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 text-center\",children:user.id===currentUserId?/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 italic\",children:\"No action\"}):user.role===\"user\"?/*#__PURE__*/_jsx(\"button\",{onClick:()=>promoteToAdmin(user.id),className:\"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded\",children:\"Promote to Admin\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>demoteToUser(user.id),className:\"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded\",children:\"Demote to User\"})})]},user.id)),filteredUsers.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"px-4 py-4 text-center text-gray-400\",children:\"No users found.\"})})]})]})})]})});}","map":{"version":3,"names":["useEffect","useState","supabase","useNavigate","jsx","_jsx","jsxs","_jsxs","UserManagementPage","users","setUsers","loading","setLoading","currentUserId","setCurrentUserId","roleFilter","setRoleFilter","navigate","fetchData","data","user","auth","getUser","id","roleData","error","roleError","from","select","eq","single","role","allUsers","fetchError","order","ascending","console","message","subscription","channel","on","event","schema","table","subscribe","removeChannel","syncUsers","response","fetch","headers","Authorization","concat","process","env","REACT_APP_SUPABASE_SERVICE_KEY","apikey","ok","text","result","json","authUsers","existingUsers","idsInUsersTable","Set","map","u","missingUsers","filter","has","length","insert","email","promoteToAdmin","update","demoteToUser","filteredUsers","className","children","onClick","value","onChange","e","target","created_at","Date","toLocaleDateString","colSpan"],"sources":["C:/Users/drago/OneDrive/Desktop/obscura-recruitment/src/pages/UserManagementPage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { supabase } from \"../supabaseClient\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function UserManagementPage() {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentUserId, setCurrentUserId] = useState(null);\r\n  const [roleFilter, setRoleFilter] = useState(\"all\");\r\n  const navigate = useNavigate();\r\n\r\n  const fetchData = async () => {\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    if (!user) return navigate(\"/\");\r\n    setCurrentUserId(user.id);\r\n\r\n    const { data: roleData, error: roleError } = await supabase\r\n      .from(\"users\")\r\n      .select(\"role\")\r\n      .eq(\"id\", user.id)\r\n      .single();\r\n\r\n    if (roleError || roleData?.role !== \"superadmin\") return navigate(\"/\");\r\n\r\n    const { data: allUsers, error: fetchError } = await supabase\r\n      .from(\"users\")\r\n      .select(\"id, email, role, created_at\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (!fetchError) {\r\n      setUsers(allUsers || []);\r\n    } else {\r\n      console.error(\"Failed to fetch users:\", fetchError.message);\r\n      setUsers([]);\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n\r\n    const subscription = supabase\r\n      .channel('users-changes')\r\n      .on('postgres_changes', { event: '*', schema: 'public', table: 'users' }, () => {\r\n        fetchData();\r\n      })\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(subscription);\r\n    };\r\n  }, [navigate]);\r\n\r\n  const syncUsers = async () => {\r\n    try {\r\n      const response = await fetch(\"https://tccglukvhjvrrjkjshet.supabase.co/auth/v1/users\", {\r\n        headers: {\r\n          Authorization: `Bearer ${process.env.REACT_APP_SUPABASE_SERVICE_KEY}`,\r\n          apikey: process.env.REACT_APP_SUPABASE_SERVICE_KEY\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        console.error(\"Failed to fetch auth.users:\", await response.text());\r\n        return;\r\n      }\r\n\r\n      const result = await response.json();\r\n      const authUsers = result?.users || result;\r\n\r\n      const { data: existingUsers } = await supabase.from(\"users\").select(\"id\");\r\n      const idsInUsersTable = new Set((existingUsers || []).map(u => u.id));\r\n\r\n      const missingUsers = authUsers.filter((u) => !idsInUsersTable.has(u.id));\r\n\r\n      if (missingUsers.length > 0) {\r\n        await supabase.from(\"users\").insert(\r\n          missingUsers.map((u) => ({\r\n            id: u.id,\r\n            email: u.email,\r\n            role: \"user\"\r\n          }))\r\n        );\r\n      }\r\n\r\n      fetchData();\r\n    } catch (error) {\r\n      console.error(\"Sync error:\", error.message);\r\n    }\r\n  };\r\n\r\n  const promoteToAdmin = async (id) => {\r\n    const { error } = await supabase.from(\"users\").update({ role: \"admin\" }).eq(\"id\", id);\r\n    if (error) console.error(error);\r\n  };\r\n\r\n  const demoteToUser = async (id) => {\r\n    const { error } = await supabase.from(\"users\").update({ role: \"user\" }).eq(\"id\", id);\r\n    if (error) console.error(error);\r\n  };\r\n\r\n  const filteredUsers = users.filter((user) => {\r\n    if (roleFilter === \"all\") return true;\r\n    return user.role === roleFilter;\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#0f172a] text-white\">\r\n        Loading users...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#0f172a] text-white p-6\">\r\n      <div className=\"max-w-6xl mx-auto bg-gray-900 p-6 rounded-xl shadow-xl\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h1 className=\"text-3xl font-bold\">User Management</h1>\r\n          <button\r\n            onClick={syncUsers}\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow\"\r\n          >\r\n            Sync Now\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex justify-end mb-4\">\r\n          <select\r\n            className=\"bg-gray-800 border border-gray-600 p-2 rounded\"\r\n            value={roleFilter}\r\n            onChange={(e) => setRoleFilter(e.target.value)}\r\n          >\r\n            <option value=\"all\">All Roles</option>\r\n            <option value=\"superadmin\">Superadmin</option>\r\n            <option value=\"admin\">Admin</option>\r\n            <option value=\"user\">User</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full table-auto border border-gray-700 text-sm\">\r\n            <thead className=\"bg-purple-800 text-white\">\r\n              <tr>\r\n                <th className=\"px-4 py-2 text-left\">Email</th>\r\n                <th className=\"px-4 py-2 text-left\">Role</th>\r\n                <th className=\"px-4 py-2 text-left\">Created</th>\r\n                <th className=\"px-4 py-2 text-center\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredUsers.map((user) => (\r\n                <tr key={user.id} className=\"border-t border-gray-700 hover:bg-gray-800\">\r\n                  <td className=\"px-4 py-2\">{user.email}</td>\r\n                  <td className=\"px-4 py-2 capitalize\">\r\n                    <span className={`px-2 py-1 rounded font-semibold text-xs ${\r\n                      user.role === \"superadmin\" ? \"bg-red-600\" :\r\n                      user.role === \"admin\" ? \"bg-green-600\" : \"bg-gray-600\"\r\n                    }`}>\r\n                      {user.role}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-4 py-2\">\r\n                    {user.created_at\r\n                      ? new Date(user.created_at).toLocaleDateString()\r\n                      : \"—\"}\r\n                  </td>\r\n                  <td className=\"px-4 py-2 text-center\">\r\n                    {user.id === currentUserId ? (\r\n                      <span className=\"text-gray-400 italic\">No action</span>\r\n                    ) : user.role === \"user\" ? (\r\n                      <button\r\n                        onClick={() => promoteToAdmin(user.id)}\r\n                        className=\"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded\"\r\n                      >\r\n                        Promote to Admin\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        onClick={() => demoteToUser(user.id)}\r\n                        className=\"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded\"\r\n                      >\r\n                        Demote to User\r\n                      </button>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {filteredUsers.length === 0 && (\r\n                <tr>\r\n                  <td colSpan=\"4\" className=\"px-4 py-4 text-center text-gray-400\">\r\n                    No users found.\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}