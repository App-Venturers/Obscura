{"ast":null,"code":"// File: src/App.js\nimport React,{useEffect,useState}from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import{supabase}from\"./supabaseClient\";// Pages\nimport LoginPage from\"./pages/LoginPage\";import SignupPage from\"./pages/SignupPage\";import EntryPage from\"./components/EntryPage\";import RecruitmentForm from\"./components/RecruitmentForm\";import MinorRecruitmentForm from\"./components/MinorRecruitmentform\";import AdminLogin from\"./pages/AdminLogin\";import AdminDashboard from\"./components/AdminDashboard\";import UserManagementPage from\"./pages/UserManagementPage\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[checking,setChecking]=useState(true);useEffect(()=>{const checkAuth=async()=>{const{data}=await supabase.auth.getUser();setUser((data===null||data===void 0?void 0:data.user)||null);setChecking(false);};checkAuth();const{data:listener}=supabase.auth.onAuthStateChange((_event,session)=>{setUser((session===null||session===void 0?void 0:session.user)||null);});return()=>listener.subscription.unsubscribe();},[]);if(checking)return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 text-center\",children:\"Loading...\"});return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignupPage,{})}),user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/entry\",element:/*#__PURE__*/_jsx(EntryPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/recruitment\",element:/*#__PURE__*/_jsx(RecruitmentForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/minor-recruitment\",element:/*#__PURE__*/_jsx(MinorRecruitmentForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin-login\",element:/*#__PURE__*/_jsx(AdminLogin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin-dashboard\",element:/*#__PURE__*/_jsx(AdminDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user-management\",element:/*#__PURE__*/_jsx(UserManagementPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/entry\"})})]}):/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Navigate","supabase","LoginPage","SignupPage","EntryPage","RecruitmentForm","MinorRecruitmentForm","AdminLogin","AdminDashboard","UserManagementPage","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","user","setUser","checking","setChecking","checkAuth","data","auth","getUser","listener","onAuthStateChange","_event","session","subscription","unsubscribe","className","children","path","element","to"],"sources":["C:/Users/drago/OneDrive/Desktop/obscura-recruitment/src/App.js"],"sourcesContent":["// File: src/App.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { supabase } from \"./supabaseClient\";\r\n\r\n// Pages\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport SignupPage from \"./pages/SignupPage\";\r\nimport EntryPage from \"./components/EntryPage\";\r\nimport RecruitmentForm from \"./components/RecruitmentForm\";\r\nimport MinorRecruitmentForm from \"./components/MinorRecruitmentform\";\r\nimport AdminLogin from \"./pages/AdminLogin\";\r\nimport AdminDashboard from \"./components/AdminDashboard\";\r\nimport UserManagementPage from \"./pages/UserManagementPage\";\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [checking, setChecking] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      const { data } = await supabase.auth.getUser();\r\n      setUser(data?.user || null);\r\n      setChecking(false);\r\n    };\r\n\r\n    checkAuth();\r\n\r\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setUser(session?.user || null);\r\n    });\r\n\r\n    return () => listener.subscription.unsubscribe();\r\n  }, []);\r\n\r\n  if (checking) return <div className=\"p-6 text-center\">Loading...</div>;\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<LoginPage />} />\r\n        <Route path=\"/signup\" element={<SignupPage />} />\r\n        \r\n        {user ? (\r\n          <>\r\n            <Route path=\"/entry\" element={<EntryPage />} />\r\n            <Route path=\"/recruitment\" element={<RecruitmentForm />} />\r\n            <Route path=\"/minor-recruitment\" element={<MinorRecruitmentForm />} />\r\n            <Route path=\"/admin-login\" element={<AdminLogin />} />\r\n            <Route path=\"/admin-dashboard\" element={<AdminDashboard />} />\r\n            <Route path=\"/user-management\" element={<UserManagementPage />} />\r\n            <Route path=\"*\" element={<Navigate to=\"/entry\" />} />\r\n          </>\r\n        ) : (\r\n          <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n        )}\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}